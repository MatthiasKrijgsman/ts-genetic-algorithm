(()=>{"use strict";var t={629:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.crossoverChromosomes=e.mutateChromosome=e.generateChromosome=void 0,e.generateChromosome=function(t){for(var e=Array(),n=0;n<t.length;n++)e.push(t[n]());return e},e.mutateChromosome=function(t,e,n){for(var r=0;r<t.length;r++)n>Math.random()&&(t[r]=e[r]());return t},e.crossoverChromosomes=function(t,e){for(var n=[],r=[],o=0;o<t.length;o++)Math.random()<=.5?(n.push(t[o]),r.push(e[o])):(n.push(e[o]),r.push(t[o]));return[n,r]}},991:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.History=void 0;var n=function(){function t(){this.entries=Array()}return t.prototype.all=function(){return this.entries},t.prototype.first=function(t){return this.entries.slice(0,t)},t.prototype.last=function(t){return this.entries.slice(-t)},t.prototype.add=function(t){this.entries.push(t)},t}();e.History=n},607:function(t,e,n){var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});for(var s=i(n(99)),a=n(573),u=[function(){return a.randomInt(0,100)},function(){return a.randomInt(0,100)},function(){return a.randomInt(0,100)},function(){return a.randomInt(0,100)},function(){return a.randomInt(0,100)},function(){return a.randomInt(0,100)},function(){return a.randomInt(0,100)}],m=new s.default({populationSize:1e3,mutationRate:.1,eliminationRate:.4,chromosomeDefinition:u,fitnessFunction:function(t){for(var e=0,n=0,r=t.chromosome;n<r.length;n++)e+=r[n];return e},optimizationType:s.OptimizationType.MAX}),h=0;h<10;h++)m.evolve();console.log(m.history)},642:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createOffspring=e.evaluateMember=void 0;var r=n(629);e.evaluateMember=function(t,e){return t(e)},e.createOffspring=function(t,e){var n=r.crossoverChromosomes(t.chromosome,e.chromosome);return[{chromosome:n[0],fitness:0},{chromosome:n[1],fitness:0}]}},99:function(t,e,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.OptimizationType=void 0;var o,i=n(629),s=n(642),a=n(573),u=n(991);!function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX"}(o=e.OptimizationType||(e.OptimizationType={}));var m=function(){function t(t){this.members=Array(),this.history=new u.History,this.options=t,this._generation=0,this.initMembers()}return t.prototype.initMembers=function(){for(var t=0;t<this.options.populationSize;t++)this.members.push({chromosome:i.generateChromosome(this.options.chromosomeDefinition),fitness:0})},t.prototype.evolve=function(){this.evaluate(),this.sort(),this.addEntryToHistory(),this.eliminate(),this.crossover(),this._generation++},t.prototype.addEntryToHistory=function(){for(var t=0,e=0,n=0,o=this.members;n<o.length;n++)t+=(a=o[n]).fitness;t/=this.members.length;for(var i=0,s=this.members;i<s.length;i++){var a=s[i];e+=Math.pow(a.fitness-t,2)}e=Math.sqrt(e/this.members.length),this.history.add({generation:this._generation,best:r({},this.members[0]),average:t,deviation:e})},t.prototype.evaluate=function(){for(var t=0;t<this.members.length;t++)this.members[t].fitness=this.options.fitnessFunction(this.members[t])},t.prototype.sort=function(){this.options.optimizationType===o.MIN?this.members.sort((function(t,e){return t.fitness>e.fitness?1:t.fitness<e.fitness?-1:0})):this.members.sort((function(t,e){return t.fitness>e.fitness?-1:t.fitness<e.fitness?1:0}))},t.prototype.eliminate=function(){for(var t=Math.floor(this.options.eliminationRate*this.members.length),e=0;e<t;e++)this.members.pop()},t.prototype.crossover=function(){for(var t=this.members.length-1,e=this.options.populationSize-this.members.length;e>0;){for(var n=a.randomInt(0,t),r=a.randomInt(0,t);n==r;)r=a.randomInt(0,t);var o=s.createOffspring(this.members[n],this.members[r]);1==e?(this.members.push(o[0]),e-=1):(this.members.push(o[0]),this.members.push(o[1]),e-=2)}},t}();e.default=m},573:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.randomGaussianFloat=e.randomGaussianInt=e.randomFloat=e.randomInt=void 0,e.randomInt=function(t,e){return Math.round(n(t,e))};var n=function(t,e){return Math.random()*(e-t)+t};e.randomFloat=n,e.randomGaussianInt=function(t,e){return Math.round(r(t,e))};var r=function(t,e){var n=Math.random(),r=Math.random();return Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r)*e+t};e.randomGaussianFloat=r}},e={};!function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}(607)})();